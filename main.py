import streamlit as st
import random

st.set_page_config(page_title="무림 캐릭터 추천기", page_icon="⚔️")

st.title("⚔️ 무림 캐릭터 추천기 (OpenAI 없이 작동)")

# 1. 사용자 입력: 성별, 성향
gender = st.radio("성별을 선택하세요", ["남성", "여성", "기타"])
personality = st.radio(
    "성향을 선택하세요",
    ["침착하고 냉철함", "열정적이고 직선적임", "부드럽고 사려 깊음"],
)

# 2. 기본 이름 후보 (성별별)
base_names = {
    "남성": ["검사", "도사", "객", "무사", "서생"],
    "여성": ["검사", "도인", "선녀", "협객", "마녀"],
    "기타": ["검객", "도인", "협객", "무사", "선녀"]
}

# 3. 접두어(수식어) 리스트
prefixes = [
    "청운", "빙설", "흑풍", "철권", "서광", "한기",
    "불꽃", "천둥", "혈풍", "폭염", "전광", "적풍",
    "바람", "달빛", "청류", "선비", "명운", "청송",
    "흑월", "빙화", "야광", "월광", "서리", "풍운",
    "화염", "천화", "혈검", "폭풍", "적화", "번개",
    "달빛", "연화", "청풍", "서리", "청연", "비취",
    "명", "은월", "빙하", "흑철", "서리", "폭풍",
    "불꽃", "혈풍", "천뢰", "적화", "구름", "청송",
    "맑은샘", "산들바람", "은하", "한별", "태풍", "유성"
]

# 4. 캐릭터 설명 데이터 (성별+성향별)
descriptions = {
    ("남성", "침착하고 냉철함"): [
        "차가운 눈빛과 날카로운 검술을 가진 무림 고수. 냉철한 판단력과 침착한 성격으로 전장을 지배한다.",
        "얼음처럼 차갑고 냉정한 마음을 지닌 도사. 어떠한 위기에도 흔들리지 않는 무림의 냉철한 전략가.",
        "어둠 속에서 날렵하게 움직이는 검객. 침착한 판단과 정확한 일격으로 적을 무찌른다.",
    ],
    ("남성", "열정적이고 직선적임"): [
        "뜨거운 열정과 직설적인 성격으로 적들을 압도하는 강호의 영웅.",
        "천둥처럼 강렬한 일격을 자랑하는 전사. 불굴의 의지로 무림을 뒤흔든다.",
        "피처럼 붉은 망토를 휘날리며 적진을 헤집는 혈기왕성한 무사.",
    ],
    ("남성", "부드럽고 사려 깊음"): [
        "부드러운 미소 뒤에 숨겨진 깊은 지혜와 사려 깊은 마음씨를 가진 도사.",
        "은은한 달빛 아래 책을 읽는 조용한 학자. 부드러운 성격과 뛰어난 지략을 갖췄다.",
        "맑은 시냇물처럼 순수하고 온화한 성격의 협객.",
    ],
    ("여성", "침착하고 냉철함"): [
        "냉철한 판단과 날렵한 몸놀림으로 적을 무너뜨리는 검객.",
        "차가운 얼음과 같은 마음을 가진 도인. 냉정하면서도 강인한 의지의 소유자.",
        "어둠 속에서 빛나는 눈동자를 가진 침착한 선녀.",
    ],
    ("여성", "열정적이고 직선적임"): [
        "불꽃처럼 뜨겁고 열정적인 전사. 솔직하고 직설적인 성격으로 무림의 전장을 달군다.",
        "천둥과 화염을 다루는 용맹한 검객. 열정과 패기로 무림을 누빈다.",
        "피처럼 붉은 검을 휘두르는 무자비한 전사.",
    ],
    ("여성", "부드럽고 사려 깊음"): [
        "부드럽고 온화한 성격으로 무림을 평화롭게 이끄는 선녀.",
        "연꽃처럼 순수하고 고요한 마음을 지닌 도사. 사려 깊고 지혜로운 상담자.",
        "맑고 부드러운 바람처럼 주변을 감싸 안는 협객.",
    ],
    ("기타", "침착하고 냉철함"): [
        "침착하고 냉철한 판단으로 어떤 상황에서도 흔들리지 않는 명검객.",
        "조용히 달빛을 걷는 도인. 냉철한 머리와 평온한 마음을 지녔다.",
        "차갑고 침착한 성격으로 적을 무너뜨리는 협객.",
    ],
    ("기타", "열정적이고 직선적임"): [
        "거친 폭풍처럼 강렬한 열정과 직설적인 성격을 지닌 전사.",
        "불꽃같은 성격과 직설적인 태도로 무림을 휘젓는 협객.",
        "핏빛 바람을 몰고 다니는 강렬한 검객.",
    ],
    ("기타", "부드럽고 사려 깊음"): [
        "부드럽고 깊은 생각으로 무림을 넓은 마음으로 품는 도인.",
        "청아한 소나무처럼 곧고 사려 깊은 선녀.",
        "맑고 깨끗한 마음을 지닌 사려 깊은 도인.",
    ],
}

# 5. 캐릭터 이름 생성 함수
def make_character_name(gender):
    prefix = random.choice(prefixes)
    base = random.choice(base_names.get(gender, base_names["기타"]))
    return prefix + base

# 6. 캐릭터 설명 선택 함수
def get_character_description(gender, personality):
    desc_list = descriptions.get((gender, personality), ["무림 최고의 신비로운 존재입니다."])
    return random.choice(desc_list)

# 7. 버튼 클릭 시 결과 출력
if st.button("캐릭터 생성하기"):
    character_name = make_character_name(gender)
    character_desc = get_character_description(gender, personality)
    
    st.subheader("🔥 당신의 무림 캐릭터 🔥")
    st.write(f"**이름:** {character_name}")
    st.write(f"**설명:** {character_desc}")
